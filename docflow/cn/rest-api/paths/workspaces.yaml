/api/app-api/sip/platform/v2/workspace/create:
  post:
    summary: 创建空间
    description: 创建一个新的工作空间
    operationId: createWorkspace
    tags:
      - 空间管理
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                description: 空间名称
                example: "我的工作空间"
                maxLength: 50
              description:
                type: string
                description: 空间描述
                example: "这是一个用于处理发票的工作空间"
                maxLength: 200
            required:
              - name
    responses:
      '200':
        description: 成功创建空间
        content:
          application/json:
            schema:
              allOf:
                - $ref: '../components/schemas/common.yaml#/CodeMessage'
                - type: object
                  properties:
                    result:
                      type: object
                      properties:
                        workspace_id:
                          type: string
                          description: 空间ID
                          example: "1234567890"

/api/app-api/sip/platform/v2/workspace/list:
  get:
    summary: 获取空间列表
    description: 获取当前用户的所有工作空间列表
    operationId: listWorkspaces
    tags:
      - 空间管理
    parameters:
      - name: page
        in: query
        description: 页码
        required: false
        schema:
          type: integer
          default: 1
          example: 1
      - name: page_size
        in: query
        description: 每页数量
        required: false
        schema:
          type: integer
          default: 20
          example: 20
    responses:
      '200':
        description: 成功获取空间列表
        content:
          application/json:
            schema:
              allOf:
                - $ref: '../components/schemas/common.yaml#/CodeMessage'
                - type: object
                  properties:
                    result:
                      type: object
                      properties:
                        total:
                          type: integer
                          description: 空间总数
                          example: 100
                        page:
                          type: integer
                          description: 当前页码
                          example: 1
                        page_size:
                          type: integer
                          description: 每页数量
                          example: 20
                        workspaces:
                          type: array
                          items:
                            $ref: '../components/schemas/workspaces.yaml#/Workspace'

/api/app-api/sip/platform/v2/workspace/get:
  get:
    summary: 获取空间详情
    description: 根据空间ID获取空间详细信息
    operationId: getWorkspace
    tags:
      - 空间管理
    parameters:
      - name: workspace_id
        in: query
        description: 空间ID
        required: true
        schema:
          type: string
          example: "1234567890"
    responses:
      '200':
        description: 成功获取空间详情
        content:
          application/json:
            schema:
              allOf:
                - $ref: '../components/schemas/common.yaml#/CodeMessage'
                - type: object
                  properties:
                    result:
                      $ref: '../components/schemas/workspaces.yaml#/Workspace'

/api/app-api/sip/platform/v2/workspace/update:
  post:
    summary: 更新空间
    description: 更新指定空间的信息
    operationId: updateWorkspace
    tags:
      - 空间管理
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              workspace_id:
                type: string
                description: 空间ID
                example: "1234567890"
              name:
                type: string
                description: 空间名称
                example: "我的工作空间"
                maxLength: 50
              description:
                type: string
                description: 空间描述
                example: "这是一个用于处理发票的工作空间"
                maxLength: 200
            required:
              - workspace_id
    responses:
      '200':
        description: 成功更新空间
        content:
          application/json:
            schema:
              $ref: '../components/schemas/common.yaml#/CodeMessage'

/api/app-api/sip/platform/v2/workspace/delete:
  post:
    summary: 删除空间
    description: 删除指定的工作空间
    operationId: deleteWorkspace
    tags:
      - 空间管理
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              workspace_ids:
                type: array
                items:
                  type: string
                  description: 空间ID
                  example: "1234567890"
                description: 要删除的空间ID列表
            required:
              - workspace_ids
    responses:
      '200':
        description: 成功删除空间
        content:
          application/json:
            schema:
              $ref: '../components/schemas/common.yaml#/CodeMessage'
